<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Nháº­t KÃ½ LÃ m Cá»‘t - Bii & QuÃ¬n</title>
  <link rel="manifest" href="manifest.json">
  <style>
    :root {
      --pink: #ff6b9d;
      --light-pink: #ffb8c6;
      --brown: #5a3d2b;
      --glass: rgba(255, 255, 255, 0.23);
      --glass-border: rgba(255, 255, 255, 0.3);
    }
    
    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: url('https://i.postimg.cc/23RNjWQb/WIN-20241126-17-30-01-Pro.jpg') no-repeat center center fixed;
      background-size: cover;
      color: var(--brown);
      margin: 0;
      padding: 0;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
      -webkit-text-size-adjust: 100%;
      cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24'><path fill='%23ff6b9d' d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/></svg>"), auto;
    }
    
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.15);
      z-index: -1;
    }
    
    .container {
      width: 100%;
      max-width: 414px;
      margin: 0 auto;
      padding: 15px;
      position: relative;
      z-index: 1;
    }
    
    .love-counter, .memory-content {
      background: var(--glass);
      border-radius: 15px;
      padding: 20px;
      margin: 20px auto;
      width: 100%;
      box-shadow: 0 8px 32px rgba(255, 105, 157, 0.2);
      text-align: center;
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      border: 1px solid var(--glass-border);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
    }
    
    .love-counter:hover, .memory-content:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 40px rgba(255, 105, 157, 0.3);
    }
    
    .counter-display {
      font-size: 1.8rem;
      color: var(--pink);
      margin: 15px 0;
      font-weight: bold;
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
      line-height: 1.4;
    }
    
    .counter-unit {
      font-size: 0.95rem;
      color: var(--brown);
      display: block;
      margin-top: 5px;
    }
    
    .memory-buttons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin: 25px 0;
      padding: 0 5px;
    }
    
    .memory-btn {
      background: linear-gradient(135deg, var(--pink), #f9809f);
      color: white;
      border: none;
      padding: 12px 8px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.4s ease;
      box-shadow: 0 4px 15px rgba(255, 105, 157, 0.3);
      position: relative;
      overflow: hidden;
      white-space: nowrap;
      min-width: 0;
    }
    
    .memory-btn:hover {
      background: linear-gradient(135deg, #f9809f, var(--pink));
      transform: translateY(-3px) scale(1.03);
      box-shadow: 0 6px 20px rgba(255, 105, 157, 0.4);
    }
    
    .memory-btn::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transform: translateX(-100%);
      transition: 0.6s;
    }
    
    .memory-btn:hover::after {
      transform: translateX(100%);
    }
    
    .memory-content {
      display: none;
      animation: fadeIn 0.5s;
      font-size: 1.15rem;
      line-height: 1.6;
      text-align: left;
      position: relative;
    }
    
    .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--pink);
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .memory-content h2 {
      color: var(--pink);
      margin-top: 0;
      border-bottom: 2px dashed var(--light-pink);
      padding-bottom: 8px;
      font-size: 1.35rem;
      transition: all 0.3s;
    }
    
    .memory-content:hover h2 {
      letter-spacing: 0.5px;
    }
    
    footer {
      text-align: center;
      padding: 20px;
      margin-top: 40px;
      color: var(--brown);
    }
    
    footer p {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--brown);
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
      margin: 8px 0;
    }
    
    .cat-paw {
      font-size: 1.4rem;
      margin: 8px;
      display: inline-block;
      animation: bounce 2s infinite;
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }
    
    /* Hiá»‡u á»©ng hoa rÆ¡i */
    .petal {
      position: fixed;
      background-size: contain;
      z-index: 999;
      pointer-events: none;
      animation: falling linear infinite;
      font-size: 1.3rem;
      opacity: 0.8;
    }
    
    @keyframes falling {
      0% {
        transform: translate(0, -10vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.8;
      }
      100% {
        transform: translate(calc(var(--random-x) * 8vw), 100vh) rotate(360deg);
        opacity: 0;
      }
    }
    
    /* Floating hearts */
    .floating-heart {
      position: absolute;
      font-size: 1.1rem;
      color: var(--pink);
      animation: float 6s ease-in-out infinite;
      opacity: 0;
      z-index: 0;
    }
    
    @keyframes float {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.7;
      }
      90% {
        opacity: 0.7;
      }
      100% {
        transform: translateY(-80px) rotate(360deg);
        opacity: 0;
      }
    }
    
    /* Hiá»‡u á»©ng thá»Ÿ cho trÃ¡i tim */
    #loveDays {
      display: inline-block;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }
    
    /* Tá»‘i Æ°u cho mobile */
    @media (max-width: 414px) {
      .memory-buttons {
        gap: 10px;
      }
      
      .memory-btn {
        padding: 12px 5px;
        font-size: 0.9rem;
      }
      
      .love-counter, .memory-content {
        padding: 18px;
      }
      
      .petal {
        font-size: 1.1rem;
      }
    }
    
    /* Tá»‘i Æ°u cho Safari */
    @supports (-webkit-touch-callout: none) {
      body {
        -webkit-overflow-scrolling: touch;
        height: -webkit-fill-available;
      }
    }
    
    /* Style cho thÆ° tÃ¬nh */
    #loveLetter {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 20px;
      border-radius: 15px;
      z-index: 1000;
      width: 80%;
      max-width: 400px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    
    #loveLetter textarea {
      width: 100%;
      height: 150px;
      margin-bottom: 10px;
      border: 1px solid var(--light-pink);
      border-radius: 10px;
      padding: 10px;
    }
    
    /* NÃºt nháº¡c */
  .music-controls {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 100;
}

.music-btn {
  background: var(--pink);
  color: white;
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  font-size: 1.2rem;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}
  </style>
</head>
<body>
  <!-- NÃºt nháº¡c YouTube -->
<div class="music-controls">
  <button class="music-btn" id="musicBtn">ğŸµ</button>
</div>
<div id="ytPlayer" style="width:0; height:0; opacity:0; position:absolute;"></div>
  <!-- Floating hearts background -->
  <div id="floating-hearts"></div>
  
  <!-- Flower petals -->
  <div id="flower-petals"></div>
  
  <!-- Love letter popup -->
  <div id="loveLetter">
    <textarea placeholder="Viáº¿t Ä‘iá»u gÃ¬ Ä‘Ã³ ngá»t ngÃ o..."></textarea>
    <button class="memory-btn" onclick="sendLetter()">Gá»­i</button>
    <button class="memory-btn" onclick="document.getElementById('loveLetter').style.display='none'">ÄÃ³ng</button>
  </div>

  <div class="container">
    <div class="love-counter">
      <h2>â¤ï¸ HÃ nh trÃ¬nh cá»§a chÃºng ta â¤ï¸</h2>
      <div class="counter-display">
        <span id="loveDays">267</span> ngÃ y
        <div class="counter-unit" id="detailedCounter">8 thÃ¡ng Â· 2 tuáº§n Â· 9 giá» Â· 47 phÃºt Â· 49 giÃ¢y</div>
      </div>
      <button class="memory-btn" onclick="showLoveLetter()" style="margin-top: 15px;">ğŸ’Œ Viáº¿t thÆ° tÃ¬nh</button>
    </div>
    
    <div class="memory-buttons">
      <button class="memory-btn" onclick="changeMemory('start', 'https://i.postimg.cc/23RNjWQb/WIN-20241126-17-30-01-Pro.jpg')">Khá»Ÿi Ä‘áº§u</button>
      <button class="memory-btn" onclick="changeMemory('first-kiss', 'https://i.postimg.cc/XNgffWGF/998694b2-ed9f-4564-85ce-fd0147bc44a7.jpg')">Ná»¥ hÃ´n Ä‘áº§u</button>
      <button class="memory-btn" onclick="changeMemory('gifts', 'https://i.postimg.cc/wTThFrLr/8379c640-a8dc-4a28-b3c5-4ce3571938e1.jpg')">QuÃ  táº·ng</button>
      <button class="memory-btn" onclick="changeMemory('places', 'https://i.postimg.cc/SRL9J8X2/5148cedd-2d79-416a-b694-e0d365694cbd.jpg')">NÆ¡i Ä‘áº·c biá»‡t</button>
      <button class="memory-btn" onclick="changeMemory('micchan', 'https://i.postimg.cc/Bnj2f1hc/aeb64a98-01e8-401e-9ae2-26aa07029764.jpg')">Micchan</button>
      <button class="memory-btn" onclick="changeMemory('feelings', 'https://i.postimg.cc/WzS0TmLS/5078b8d2-543d-4b17-aa39-28e2d3f1ddb3.jpg')">TÃ¬nh cáº£m hiá»‡n táº¡i</button>
    </div>

    <div id="start" class="memory-content">
      <button class="close-btn" onclick="this.parentElement.style.display='none'">Ã—</button>
      <h2>ğŸŒŸ Khá»Ÿi Ä‘áº§u Ä‘Ã¡ng nhá»›</h2>
      <p><strong>NgÃ y yÃªu nhau:</strong> 17/10/2024</p>
      <p>NgÃ y QuÃ¬n báº£o bii vá» tá» tÃ¬nh sáº½ Ä‘á»“ng Ã½ nhÆ°ng rá»“i lÃºc chuáº©n bá»‹ nÃ³i ra quÃ¬n láº¡i muá»‘n cháº¡y dÃ¬a kkkk</p>
      <p>NgÃ y mÃ  bii tá»§n vá»›i QuÃ¬n Ä‘Ã£ chÃ­nh thá»©c bÆ°á»›c vÃ o cuá»™c hÃ nh trÃ¬nh nÃ y.</p>
      <p><strong>NÆ¡i tá» tÃ¬nh:</strong> Gháº¿ muá»—i chÃ­ch, cÃ´ng viÃªn</p>
      <p>CÃ³ láº½ Ä‘Ã¢y lÃ  nÆ¡i Ä‘áº·c biá»‡t nháº¥t Ä‘á»‘i vá»›i bi,mÃ¬nh hay ngá»“i chá»— nÃ y vÃ o nhá»¯ng láº§n Ä‘i chÆ¡i sau nÃ y,cÅ©ng lÃ  nÆ¡i má»i thá»© báº¯t Ä‘áº§u.</p>
      <p>VÃ  cÅ©ng nhá»¯ng láº§n bá»n mÃ¬nh cÃ³ chuyá»‡n...Ä‘Ã¢y cÅ©ng lÃ  nÆ¡i bi ngá»“i,hy vá»ng biáº¿t Ä‘Ã¢u quÃ¬n sáº½ tá»›i.</p>
    </div>
    
    <div id="first-kiss" class="memory-content">
      <button class="close-btn" onclick="this.parentElement.style.display='none'">Ã—</button>
      <h2>ğŸ’‹ Ná»¥ hÃ´n Ä‘áº§u</h2>
      <p>ChÃ­nh lÃ  khoáº£nh kháº¯c "lÃ£ng máº¡n" táº¡i cÃ´ng viÃªn. Cáº£m giÃ¡c nhÆ° thá»i gian ngá»«ng láº¡i, chá»‰ cÃ²n hai cá»‘t kkk</p>
      <p>Láº§n Ä‘áº§u bi cháº¡m mÃ´i quÃ¬n cÃ³ láº½ lÃ  láº§n Ä‘Ã£ trá»… nhÆ°ng hÃ´m áº¥y bi chÆ°a Ä‘Æ°á»£c hun cÃ¡i nÃ o nÃªn bi giá»¯ quÃ¬n láº¡i=))xin mÃ£ii.</p>
      <h3>Ká»· niá»‡m Ä‘Ã¡ng nhá»›:</h3>
      <p>Láº§n Ä‘áº§u "trao nhau" táº¡i Corgi Homestay.</p>
      <p>Cáº£m Æ¡n QuÃ¬n, vÃ¬ Ä‘Ã£ chá»n bi,tin tÆ°á»Ÿng vÃ  trao cho bi Ä‘iá»u tuyá»‡t vá»i áº¥y.</p>
      <p>VÃ o Ä‘Ãªm sinh nháº­t,dÃ¹ QuÃ¬n "tá»›i thÃ¡ng" nhÆ°ng váº«n cá»‘ gáº¯ng vÃ¬ sá»£ Bii buá»“n,máº·c dÃ¹ viá»‡c Ä‘áº¥y sáº½ cÃ³ áº£nh hÆ°á»Ÿng xáº¥u tá»›i quÃ¬n(Bii cÅ©ng tÃ­nh hok áº¥y rÃ¹i mÃ  bi lá»¡.....á»±a)</p>
      <p>YÃªu quÃ¬n nhiá»u háº¹ háº¹ ğŸŒ§ï¸ğŸ‚ğŸ’</p>
    </div>
    <div id="gifts" class="memory-content">
      <button class="close-btn" onclick="this.parentElement.style.display='none'">Ã—</button>
      <h2>ğŸ MÃ³n quÃ  ká»· niá»‡m</h2>
      <p>Nhá»¯ng mÃ³n quÃ  chá»©a Ä‘á»±ng tÃ¬nh cáº£m sÃ¢u sáº¯c cá»§a QuÃ¬n dÃ nh cho Bii:</p>
      <ul>
        <li>KhÄƒn len Ä‘an tay</li>
        <li>MÅ© len Ä‘an tay</li>
        <li>Ão thun</li>
        <li>Cá»‘c nÆ°á»›c</li>
      </ul>
      <p>Má»—i mÃ³n quÃ  bi Ä‘á»u giá»¯ gÃ¬n sÃ  sá»­ dá»¥ng 1 cÃ¡ch nhiá»u vÃ´ ká»ƒ. ğŸ’</p>
      <p>Sáº¯p tá»›i cÃ³cÃ³ váº» em bii sáº½ nháº­n Ä‘Æ°á»£c mÃ³n quÃ  khÃ³ to,theo nhÆ° vÃ i Ä‘iá»u quÃ¬n tiáº¿t lá»™.</p>
    </div>
    <div id="places" class="memory-content">
      <button class="close-btn" onclick="this.parentElement.style.display='none'">Ã—</button>
      <h2>ğŸ¡ NÆ¡i quan trá»ng</h2>
      <p><strong>Chá»‘n Homestay</strong> - nÆ¡i tÃ¬nh yÃªu trá»Ÿ nÃªn tháº­t trá»n váº¹n.NÆ¡i hai mÃ¬nh Ä‘Ã£ cÃ³ 1 Ä‘Ãªm sinh nháº­t cho quÃ¬n cÃ³ láº½ lÃ  tuyá»‡t vá»i.</p>
      <p>NÆ¡i hai ngÆ°á»i cÃ³ nhá»¯ng khoáº£nh kháº¯c Ä‘Ã¡ng nhá»› nháº¥t, tá»« nhá»¯ng láº§n Ä‘áº§u tiÃªn Ä‘áº¿n nhá»¯ng Ä‘Ãªm tÃ¢m sá»± dÆ°á»›i Ã¡nh náº¿n. ğŸŒˆ</p>
    </div>
    <div id="micchan" class="memory-content">
      <button class="close-btn" onclick="this.parentElement.style.display='none'">Ã—</button>
      <h2>ğŸ˜» Micchan (mÃ¨o biá»ƒn)</h2>
      <p>Cháº¯c bi má»›i gáº·p áº»m cÃ³ 1 láº§n.</p>
      <p>HÃ¬nh nhÆ° Ä‘Ã¢y lÃ  bÃ© quÃ¬n láº¥y vá» lÃºc mÃ¬nh ra biá»ƒn nhá»‰</p>
    </div>
    <div id="feelings" class="memory-content">
      <button class="close-btn" onclick="this.parentElement.style.display='none'">Ã—</button>
      <h2>ğŸ’ TÃ¬nh cáº£m hiá»‡n táº¡i</h2>
      <p>Chuyá»‡n cá»§a mÃ¬nh lÃªn xuá»‘ng ,chuyá»‡n nÃ y chuyá»‡n kia nhiá»u nhÆ°ng mÃ  bi vui vÃ¬ bÃ¢y giá» bi vá»›i quÃ¬n váº«n chá»n tiáº¿p tá»¥c</p>
      <p>QuÃ¬n tha thá»© cho bi nhiá»u Ä‘iá»u,bii cá»§m Æ¡n QuÃ¬n.ğŸ’–ğŸ’–</p>
      <p>Cáº£m xÃºc cá»§a Bii váº«n Ä‘ong Ä‘áº§y má»—i ngÃ y háº¹ háº¹. ğŸ˜˜ğŸ’–</p>
      <p>Bi mong 2 Ä‘á»©a mÃ¬nh sáº½ cÃ¹ng nhau Ä‘áº­u Ä‘áº¡i há»c.Bi khoa há»c tá»± nhiÃªn, QuÃ¬n dÆ°á»£c há»c.MÃ¬nh sáº½ khÃ´ng pháº£i yÃªu xa ná»¯a.NÄƒm nay cÃ¹ng nhau cá»‘ gáº¯ng nhan</p>
    </div>
  </div>
    
  </div>

  <footer>
    <div class="cat-paw">ğŸ¾</div>
    <p>ÄÆ°á»£c táº¡o vá»›i táº¥t cáº£ tÃ¬nh yÃªu dÃ nh cho Bii & QuÃ¬n</p>
    <p><em>- Micchan phÃª duyá»‡t -</em></p>
  </footer>




  <script>
    // Bá»™ Ä‘áº¿m thá»i gian
    const startDate = new Date("2024-10-17T00:00:00");
    
    function updateCounter() {
      const now = new Date();
      const diff = now - startDate;
      
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const months = Math.floor(days / 30.44);
      const weeks = Math.floor((days % 365) / 7);
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);
      
      document.getElementById("loveDays").innerText = days;
      document.getElementById("detailedCounter").innerText = 
        `${months} thÃ¡ng Â· ${weeks} tuáº§n Â· ${hours} giá» Â· ${minutes} phÃºt Â· ${seconds} giÃ¢y`;
      
      // Hiá»‡u á»©ng confetti khi Ä‘áº¿n má»‘c Ä‘áº·c biá»‡t
      if ([100, 200, 365].includes(days)) {
        createConfetti();
      }
    }
    
    setInterval(updateCounter, 1000);
    updateCounter();

    // Chuyá»ƒn Ä‘á»•i giá»¯a cÃ¡c ká»· niá»‡m
    let isTransitioning = false;
    function changeMemory(id, bgUrl) {
      if (isTransitioning) return;
      isTransitioning = true;
      
      document.querySelectorAll('.memory-content').forEach(mem => {
        mem.style.display = 'none';
      });
      
      const mem = document.getElementById(id);
      if (mem) {
        mem.style.display = 'block';
        mem.style.animation = 'fadeIn 0.5s';
      }
      
      document.body.style.transition = 'background-image 0.8s ease-in-out';
      document.body.style.backgroundImage = `url('${bgUrl}')`;
      
      createClickHearts();
      setTimeout(() => { isTransitioning = false; }, 800);
    }

    // Hiá»‡u á»©ng hoa rÆ¡i
    function createPetals() {
      const petals = ['ğŸŒ¸', 'ğŸŒ¹', 'ğŸ’®', 'ğŸµï¸', 'ğŸŒº', 'ğŸŒ»', 'ğŸŒ¼', 'ğŸŒ·'];
      const container = document.getElementById('flower-petals');
      const maxPetals = 10;
      
      if (document.querySelectorAll('.petal').length < maxPetals) {
        const petal = document.createElement('div');
        petal.className = 'petal';
        petal.innerHTML = petals[Math.floor(Math.random() * petals.length)];
        petal.style.left = Math.random() * 100 + 'vw';
        petal.style.fontSize = (Math.random() * 12 + 10) + 'px';
        petal.style.setProperty('--random-x', Math.random() * 2 - 1);
        petal.style.animationDuration = (Math.random() * 8 + 8) + 's';
        petal.style.animationDelay = Math.random() * 5 + 's';
        container.appendChild(petal);
        
        setTimeout(() => {
          petal.remove();
        }, parseFloat(petal.style.animationDuration) * 1000);
      }
      
      setTimeout(createPetals, 300);
    }
    
    // Hiá»‡u á»©ng tim ná»•i
    function createFloatingHearts() {
      const container = document.getElementById('floating-hearts');
      const hearts = ['â¤ï¸', 'ğŸ§¡', 'ğŸ’›', 'ğŸ’š', 'ğŸ’™', 'ğŸ’œ', 'ğŸ¤', 'ğŸ–¤', 'ğŸ’–', 'ğŸ’—', 'ğŸ’˜', 'ğŸ’'];
      
      setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'floating-heart';
        heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.bottom = '0';
        heart.style.animationDuration = (Math.random() * 4 + 4) + 's';
        container.appendChild(heart);
        
        setTimeout(() => {
          heart.remove();
        }, 5000);
      }, 1000);
    }
    
    // Hiá»‡u á»©ng tim khi click
    function createClickHearts() {
      const hearts = ['â¤ï¸', 'ğŸ’–', 'ğŸ’—', 'ğŸ’˜'];
      const heart = document.createElement('div');
      heart.className = 'floating-heart';
      heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
      heart.style.left = '50%';
      heart.style.bottom = '20%';
      heart.style.fontSize = '1.8rem';
      heart.style.animationDuration = '3s';
      document.getElementById('floating-hearts').appendChild(heart);
      
      setTimeout(() => {
        heart.remove();
      }, 3000);
    }
    
    // Hiá»‡u á»©ng confetti
    function createConfetti() {
      const emojis = ['ğŸ‰', 'ğŸŠ', 'âœ¨', 'ğŸ’–', 'ğŸŒ¸'];
      for (let i = 0; i < 20; i++) {
        const confetti = document.createElement('div');
        confetti.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
        confetti.style.position = 'fixed';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.top = '-50px';
        confetti.style.fontSize = (Math.random() * 20 + 15) + 'px';
        confetti.style.animation = `fall ${Math.random() * 3 + 2}s linear forwards`;
        confetti.style.zIndex = '9999';
        document.body.appendChild(confetti);
        
        setTimeout(() => {
          confetti.remove();
        }, 5000);
      }
    }
    
    // ThÆ° tÃ¬nh
    function showLoveLetter() {
      document.getElementById('loveLetter').style.display = 'block';
    }
    
    function sendLetter() {
      alert('Emm biiiiii yÃªu QuÃ¬nnnn');
      document.getElementById('loveLetter').style.display = 'none';
    }
    
    // Hiá»‡u á»©ng tim khi cháº¡m trÃªn mobile
    document.addEventListener('touchstart', (e) => {
      const heart = document.createElement('div');
      heart.className = 'floating-heart';
      heart.innerHTML = 'â¤ï¸';
      heart.style.left = e.touches[0].clientX + 'px';
      heart.style.top = e.touches[0].clientY + 'px';
      heart.style.animation = 'float 3s ease-out';
      heart.style.fontSize = '2rem';
      document.getElementById('floating-hearts').appendChild(heart);
      
      setTimeout(() => {
        heart.remove();
      }, 3000);
    });
    
    // Khá»Ÿi táº¡o khi trang load
    window.onload = function() {
      changeMemory('start', 'https://i.postimg.cc/23RNjWQb/WIN-20241126-17-30-01-Pro.jpg');
      createPetals();
      createFloatingHearts();
 let isPlaying = false;
const ytPlayer = document.getElementById('ytPlayer');
const musicButton = document.getElementById('musicBtn');

musicButton.addEventListener('click', () => {
  if (!isPlaying) {
    if (player && typeof player.playVideo === 'function') {
      player.unMute();
      player.playVideo();
      isPlaying = true;
      musicButton.textContent = 'ğŸ”‡';
    }
  } else {
    if (player && typeof player.pauseVideo === 'function') {
      player.pauseVideo();
      isPlaying = false;
      musicButton.textContent = 'ğŸµ';
    }
  }
});


      
      // ThÃªm hiá»‡u á»©ng khi cháº¡m vÃ o nÃºt trÃªn mobile
      document.querySelectorAll('.memory-btn').forEach(btn => {
        btn.addEventListener('touchstart', () => {
          btn.style.transform = 'scale(0.96)';
        });
        btn.addEventListener('touchend', () => {
          btn.style.transform = 'scale(1)';
        });
      });

    };
   
  </script>
 <script src="https://www.youtube.com/iframe_api"></script>
<script>
  let player;
  function onYouTubeIframeAPIReady() {
    player = new YT.Player('ytPlayer', {
      height: '0',
      width: '0',
      videoId: 'dcWTrQ48mms',
      playerVars: {
        autoplay: 0,
        loop: 1,
        playlist: 'dcWTrQ48mms',
        mute: 1
      },
      events: {
        onReady: onPlayerReady
      }
    });
  }

  function onPlayerReady(event) {
    const btn = document.getElementById('musicBtn');
    let isPlaying = false;
    btn.addEventListener('click', () => {
      if (!isPlaying) {
        player.unMute();
        player.playVideo();
        btn.textContent = 'ğŸ”‡';
      } else {
        player.pauseVideo();
        btn.textContent = 'ğŸµ';
      }
      isPlaying = !isPlaying;
    });
  }
</script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js').then(() => {
      console.log("Service Worker Ä‘Äƒng kÃ½ thÃ nh cÃ´ng");
    }).catch(err => {
      console.error("ÄÄƒng kÃ½ Service Worker tháº¥t báº¡i:", err);
    });
  }
</script>
<!-- Locket - Chá»n ngÆ°á»i dÃ¹ng thÃ´i, chÆ°a cÃ³ gÃ¬ khÃ¡c -->
<!-- Popup chá»n ngÆ°á»i dÃ¹ng -->
<div id="choose-user" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #fff8f9; display: flex; align-items: center; justify-content: center; z-index: 10000;">
  <div style="text-align: center;">
    <p style="font-size: 18px; color: #cc3366;">You lÃ  Bii hay QuÃ¬n=))</p>
    <button onclick="setUser('bii')" style="margin: 8px; padding: 10px 20px; background: #ff6b8b; color: white; border: none; border-radius: 8px; cursor: pointer;">Bii ğŸ¶</button>
    <button onclick="setUser('quin')" style="margin: 8px; padding: 10px 20px; background: #ffb6c1; color: white; border: none; border-radius: 8px; cursor: pointer;">QuÃ¬n ğŸ€</button>
  </div>
</div>
<script>
  window.setUser = function (name) {
    localStorage.setItem("user", name);
    document.getElementById("choose-user").style.display = "none";
    setTimeout(() => {
      location.reload();
    }, 200); // Delay nháº¹ Ä‘á»ƒ Ä‘áº£m báº£o reload mÆ°á»£t
  }

  const user = localStorage.getItem("user");
  if (!user) {
    document.getElementById("choose-user").style.display = "flex";
  }

  // Auto update PWA when there's new version
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js').then(reg => {
      reg.onupdatefound = () => {
        const newWorker = reg.installing;
        newWorker.onstatechange = () => {
          if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
            const user = localStorage.getItem("user");
            if (user) {
              console.log("âš¡ CÃ³ báº£n cáº­p nháº­t má»›i! Reloading...");
              window.location.reload();
            }
          }
        };
      };
    });
  }
</script>

</body>
</html>
